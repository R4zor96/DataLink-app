<div class="bg-white rounded-xl shadow-lg p-6 w-full transition-transform transform hover:-translate-y-1 hover:shadow-xl">
  <!-- Título -->
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-bold text-[#0D1B2A]">Gráfico de Barras</h3>
    <i class="fa-solid fa-chart-column text-[#E71D36] text-2xl"></i>
  </div>

  <!-- Descripción -->
  <p class="text-sm text-gray-500 mb-6">
    Comparativa de valores basados en los indicadores KPI registrados.
  </p>

  <!-- Contenedor del gráfico -->
  <div class="relative w-full h-72 bg-[#0D1B2A]/5 rounded-xl px-6 pt-10 pb-4 flex items-end justify-around overflow-hidden">
    <!-- Barras dinámicas -->
    <ng-container *ngFor="let kpi of kpis">
      <div class="group relative flex flex-col items-center w-10 sm:w-12 md:w-14">
        
        <!-- Porcentaje (encima de la barra) -->
        <div
          class="absolute -top-6 text-sm font-bold"
          [style.color]="kpi.color || '#E71D36'">
          {{ kpi.value }}%
        </div>

        <!-- Barra -->
        <div
          class="w-full rounded-t-md transition-all duration-700 ease-out group-hover:opacity-90 shadow-md"
          [style.background]="kpi.color || '#E71D36'"
          [style.height.%]="kpi.value">
        </div>

        <!-- Nombre -->
        <span
          class="mt-3 text-xs font-semibold text-[#1B263B] text-center group-hover:text-[#E71D36] transition-colors duration-200">
          {{ kpi.title }}
        </span>
      </div>
    </ng-container>
  </div>

  <!-- Pie -->
  <div class="mt-6 text-center">
    <p class="text-xs text-gray-500 italic">
      Datos obtenidos de los KPIs generales.
    </p>
  </div>
</div>
